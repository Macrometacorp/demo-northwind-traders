[{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-all-categories","fabric":"dino.lozina_macrometa.com._system","name":"get-all-categories","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR category IN categories \n   RETURN {\"key\": category._key, \"category\": category.CategoryName}"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-all-suppliers","fabric":"dino.lozina_macrometa.com._system","name":"get-all-suppliers","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR supplier IN suppliers \n   RETURN {\"key\": supplier._key, \"companyName\": supplier.CompanyName}"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-products","fabric":"dino.lozina_macrometa.com._system","name":"get-products","parameter":{"limit":"10","offset":"0"},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"LET data = (\nFOR product IN products\n    LIMIT @offset, @limit\n    RETURN KEEP(product,\n        \"_key\", \n        \"ProductName\",\n        \"QuantityPerUnit\",\n        \"UnitPrice\",\n        \"UnitsInStock\",\n        \"UnitsOnOrder\"\n    )\n)\n\nRETURN {\n    \"totalDocuments\": LENGTH(products),\n    \"data\": data\n}\n"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-product-info","fabric":"dino.lozina_macrometa.com._system","name":"get-product-info","parameter":{"key":"\"1\""},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR product IN products\n    FILTER product._key == @key\n    LET supplier_details = (\n        FOR supplier IN suppliers\n        FILTER TO_STRING(product.SupplierID) == supplier._key\n        RETURN {\n            \"_key\": supplier._key, \n            \"CompanyName\": supplier.CompanyName\n        }\n    )\n    RETURN {\n        \"_key\": product._key,\n        \"Discontinued\": product.Discontinued,\n        \"ProductName\": product.ProductName,\n        \"QuantityPerUnit\": product.QuantityPerUnit,\n        \"ReorderLevel\": product.ReorderLevel,\n        \"Supplier\": {\n            \"_key\": supplier_details[0]._key,\n            \"CompanyName\": supplier_details[0].CompanyName\n        },\n        \"UnitPrice\": product.UnitPrice,\n        \"UnitsInStock\": product.UnitsInStock,\n        \"UnitsOnOrder\": product.UnitsOnOrder\n    }"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-supplier-info","fabric":"dino.lozina_macrometa.com._system","name":"get-supplier-info","parameter":{"key":"\"1\""},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR supplier IN suppliers\n    FILTER supplier._key == @key\n    RETURN KEEP(supplier,\n        \"_key\",\n        \"Address\",\n        \"City\",\n        \"CompanyName\",\n        \"ContactName\",\n        \"ContactTitle\",\n        \"Country\",\n        \"Phone\",\n        \"PostalCode\",\n        \"Region\"\n    )\n"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.add-product","fabric":"dino.lozina_macrometa.com._system","name":"add-product","parameter":{"CategoryID":"","Discontinued":"","ProductName":"","QuantityPerUnit":"","ReorderLevel":"","SupplierID":"","UnitPrice":"","UnitsInStock":"","UnitsOnOrder":""},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"INSERT {\n        CategoryID: @CategoryID,\n        Discontinued: @Discontinued,\n        ProductName: @ProductName,\n        QuantityPerUnit: @QuantityPerUnit,\n        ReorderLevel: @ReorderLevel,\n        SupplierID: @SupplierID,\n        UnitPrice: @UnitPrice,\n        UnitsInStock: @UnitsInStock,\n        UnitsOnOrder: @UnitsOnOrder\n}\nINTO products"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.delete-product","fabric":"dino.lozina_macrometa.com._system","name":"delete-product","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"REMOVE @_key \nIN products"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.update-product","fabric":"dino.lozina_macrometa.com._system","name":"update-product","parameter":{"CategoryID":"","Discontinued":"","ProductName":"","QuantityPerUnit":"","ReorderLevel":"","SupplierID":"","UnitPrice":"","UnitsInStock":"","UnitsOnOrder":""},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"UPDATE @_key WITH {\n        CategoryID: @CategoryID,\n        Discontinued: @Discontinued,\n        ProductName: @ProductName,\n        QuantityPerUnit: @QuantityPerUnit,\n        ReorderLevel: @ReorderLevel,\n        SupplierID: @SupplierID,\n        UnitPrice: @UnitPrice,\n        UnitsInStock: @UnitsInStock,\n        UnitsOnOrder: @UnitsOnOrder\n}\nINTO products"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-product","fabric":"dino.lozina_macrometa.com._system","name":"get-product","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR product IN products\n    FILTER product._key == @_key\nRETURN product"}]