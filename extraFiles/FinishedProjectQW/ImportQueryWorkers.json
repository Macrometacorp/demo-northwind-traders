[{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.test_play","fabric":"dino.lozina_macrometa.com._system","name":"test_play","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR i IN orders\nLIMIT 10\nRETURN i"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-orders","fabric":"dino.lozina_macrometa.com._system","name":"get-orders","parameter":{"limit":"10","offset":"0"},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"LET data = (\nFOR order IN orders\n    LIMIT @offset, @limit\n    LET order_details = (\n        FOR orderDetail IN orderDetails\n        FILTER TO_NUMBER(order._key) == orderDetail.OrderID\n        RETURN {\n            \"ProductID\": orderDetail.ProductID,\n            \"Quantity\": orderDetail.Quantity,\n            \"UnitPrice\": orderDetail.UnitPrice,\n            \"TotalPrice\": orderDetail.Quantity * orderDetail.UnitPrice\n        }\n    )\n    RETURN {\n        \"_key\": order._key,\n        \"ShipCity\": order.ShipCity,\n        \"ShipCountry\": order.ShipCountry,\n        \"ShipName\": order.ShipName,\n        \"ShippedDate\": order.ShippedDate,\n        \"Products\": {\n            \"DifferentProductCount\": LENGTH(UNIQUE(order_details[*].ProductID)),\n            \"TotalPrice\": SUM(order_details[*].TotalPrice),\n            \"TotalQuantity\": SUM(order_details[*].Quantity)\n        }\n    }\n)\n\nRETURN {\n    \"totalDocuments\": LENGTH(orders),\n    \"data\": data\n}"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-employees","fabric":"dino.lozina_macrometa.com._system","name":"get-employees","parameter":{"limit":"10","offset":"0"},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"LET data = (\nFOR employee IN employees\n    LIMIT @offset, @limit\n    RETURN KEEP(employee,\n        \"_key\", \n        \"City\",\n        \"Country\",\n        \"FirstName\",\n        \"HomePhone\",\n        \"LastName\",\n        \"Title\"\n    )\n)\n\nRETURN {\n    \"totalDocuments\": LENGTH(employees),\n    \"data\": data\n}\n"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-products","fabric":"dino.lozina_macrometa.com._system","name":"get-products","parameter":{"limit":"10","offset":"0"},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"LET data = (\nFOR product IN products\n    LIMIT @offset, @limit\n    RETURN KEEP(product,\n        \"_key\", \n        \"ProductName\",\n        \"QuantityPerUnit\",\n        \"UnitPrice\",\n        \"UnitsInStock\",\n        \"UnitsOnOrder\"\n    )\n)\n\nRETURN {\n    \"totalDocuments\": LENGTH(products),\n    \"data\": data\n}\n"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-supplier-info","fabric":"dino.lozina_macrometa.com._system","name":"get-supplier-info","parameter":{"key":"\"1\""},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR supplier IN suppliers\n    FILTER supplier._key == @key\n    RETURN KEEP(supplier,\n        \"_key\",\n        \"Address\",\n        \"City\",\n        \"CompanyName\",\n        \"ContactName\",\n        \"ContactTitle\",\n        \"Country\",\n        \"Phone\",\n        \"PostalCode\",\n        \"Region\"\n    )\n"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-product-info","fabric":"dino.lozina_macrometa.com._system","name":"get-product-info","parameter":{"key":"\"1\""},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR product IN products\n    FILTER product._key == @key\n    LET supplier_details = (\n        FOR supplier IN suppliers\n        FILTER TO_STRING(product.SupplierID) == supplier._key\n        RETURN {\n            \"_key\": supplier._key, \n            \"CompanyName\": supplier.CompanyName\n        }\n    )\n    RETURN {\n        \"_key\": product._key,\n        \"Discontinued\": product.Discontinued,\n        \"ProductName\": product.ProductName,\n        \"QuantityPerUnit\": product.QuantityPerUnit,\n        \"ReorderLevel\": product.ReorderLevel,\n        \"Supplier\": {\n            \"_key\": supplier_details[0]._key,\n            \"CompanyName\": supplier_details[0].CompanyName\n        },\n        \"UnitPrice\": product.UnitPrice,\n        \"UnitsInStock\": product.UnitsInStock,\n        \"UnitsOnOrder\": product.UnitsOnOrder\n    }"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-order-info","fabric":"dino.lozina_macrometa.com._system","name":"get-order-info","parameter":{"key":"10250"},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR order IN orders\n    FILTER TO_NUMBER(order._key) == @key\n    LET order_details = (\n        FOR orderDetail in orderDetails\n            FILTER TO_NUMBER(order._key) == orderDetail.OrderID\n            LET product_detail = (\n                FOR product in products\n                    FILTER TO_STRING(orderDetail.ProductID) == product._key\n                    RETURN {\n                        \"_key\": product._key,\n                        \"Name\": product.ProductName\n                    }\n            )\n            RETURN {\n                \"_key\": product_detail[0]._key,\n                \"ProductName\": product_detail[0].Name,\n\t\t\t\t\"Quantity\": orderDetail.Quantity,\n\t\t\t\t\"UnitPrice\": orderDetail.UnitPrice,\n                \"TotalPrice\": orderDetail.Quantity * orderDetail.UnitPrice,\n                \"Discount\": orderDetail.Discount,\n                \"DiscountAmount\": (orderDetail.Quantity * orderDetail.UnitPrice)* (orderDetail.Discount)\n            }\n    )\n    LET shipping_company = (\n        FOR shipper IN shippers\n        FILTER TO_STRING(order.ShipVia) == shipper._key\n        RETURN {\n            \"CompanyName\": shipper.CompanyName\n        }\n    )\n    RETURN {\n        \"_key\": order._key,\n        \"CustomerID\": order.CustomerID,\n        \"Freight\": order.Freight,\n        \"OrderDate\": order.OrderDate,\n        \"Products\": {\n            \"DifferentProductCount\": LENGTH(UNIQUE(order_details[*]._key)),\n            \"List\": order_details,\n            \"TotalDiscount\": SUM(order_details[*].DiscountAmount),\n            \"TotalPrice\": SUM(order_details[*].TotalPrice),\n            \"TotalQuantity\": SUM(order_details[*].Quantity)\n        },\n        \"RequiredDate\": order.RequiredDate,\n        \"ShipCity\": order.ShipCity,\n        \"ShipCountry\": order.ShipCountry,\n        \"ShipName\": order.ShipName,\n        \"ShipPostalCode\": order.ShipPostalCode,\n        \"ShipRegion\": order.ShipRegion,\n        \"ShippedDate\": order.ShippedDate,\n        \"Shipper\":{\n            \"_key\": order.ShipVia,\n            \"CompanyName\": shipping_company[0].CompanyName\n        }\n    }"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-employee-info","fabric":"dino.lozina_macrometa.com._system","name":"get-employee-info","parameter":{"key":"\"1\""},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR data in employees\n    FILTER data._key == @key\n    LET reports_to_details = (\n        FOR employee IN employees\n            FILTER TO_STRING(data.ReportsTo) == employee._key\n            RETURN {\n                \"_key\": employee._key, \n                \"FirstName\": employee.FirstName,\n                \"LastName\": employee.LastName\n            }\n    )\n    RETURN {\n        \"_key\": data._key,    \n        \"Address\": data.Address,\n        \"BirthDate\": data.BirthDate,\n        \"City\": data.City,\n        \"Country\": data.Country,\n        \"Extension\": data.Extension,\n        \"FirstName\": data.FirstName,\n        \"HireDate\": data.HireDate,\n        \"HomePhone\": data.HomePhone,\n        \"LastName\": data.LastName,\n        \"Notes\": data.Notes,\n        \"PostalCode\": data.PostalCode,\n        \"Region\": data.Region,\n        \"Title\": data.Title,\n        \"TitleOfCourtesy\": data.TitleOfCourtesy,\n        \"ReportsTo\": {\n            \"_key\": reports_to_details[0]._key,\n            \"FirstName\": reports_to_details[0].FirstName,\n            \"LastName\": reports_to_details[0].LastName\n        }\n    }"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-customer-info","fabric":"dino.lozina_macrometa.com._system","name":"get-customer-info","parameter":{"key":"\"ALFKI\""},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR customer IN customers \n    FILTER customer._key == @key\n    RETURN KEEP(customer,\n        \"_key\",\n        \"CompanyName\",\n        \"ContactName\",\n        \"ContactTitle\",\n        \"Address\",\n        \"City\",\n        \"PostalCode\",\n        \"Region\",\n        \"Country\",\n        \"Phone\",\n        \"Fax\"\n    )\n"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-customers","fabric":"dino.lozina_macrometa.com._system","name":"get-customers","parameter":{"limit":"10","offset":"0"},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"LET paginatedCustomersData = (\nFOR customer IN customers \n    LIMIT @offset, @limit\n    RETURN KEEP(customer,\n        \"_key\",\n        \"CompanyName\",\n        \"ContactName\",\n        \"ContactTitle\",\n        \"City\",\n        \"Country\"\n    )\n)\n\nRETURN {\n    \"totalDocuments\": LENGTH(customers),\n    \"data\": paginatedCustomersData\n}"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.search-customer","fabric":"dino.lozina_macrometa.com._system","name":"search-customer","parameter":{"keyword":"ch"},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR customer IN customers_search_view\n    SEARCH ANALYZER(\n        BOOST(STARTS_WITH(customer._key, @keyword), 3) OR\n        BOOST(STARTS_WITH(customer.CompanyName, @keyword), 2) OR\n        BOOST(STARTS_WITH(customer.ContactName, @keyword), 1),\n        \"text_en\"\n    )\n    SORT BM25(customer) DESC\n    RETURN KEEP(customer,\n        \"_key\",\n        \"CompanyName\",\n        \"ContactName\",\n        \"ContactTitle\",\n        \"Phone\"\n    )"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.search-product","fabric":"dino.lozina_macrometa.com._system","name":"search-product","parameter":{"keyword":"ch"},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR product IN products_search_view\n    SEARCH ANALYZER(\n        STARTS_WITH(product.ProductName, @keyword),\n        \"text_en\"\n    )\n    SORT product.ProductName ASC\n    RETURN KEEP(product,\n        \"_key\",\n        \"ProductName\",\n        \"QuantityPerUnit\",\n        \"UnitPrice\",\n        \"UnitsInStock\"\n    )"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-suppliers","fabric":"dino.lozina_macrometa.com._system","name":"get-suppliers","parameter":{"limit":"10","offset":"0"},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"LET data = (\nFOR supplier IN suppliers\n    LIMIT @offset, @limit\n    RETURN KEEP(supplier, \n        \"_key\", \n        \"City\", \n        \"CompanyName\", \n        \"ContactName\", \n        \"ContactTitle\",\n        \"Country\"\n    )\n)\n\nRETURN {\n    \"totalDocuments\": LENGTH(suppliers),\n    \"data\": data\n}\n"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-customers-test","fabric":"dino.lozina_macrometa.com._system","name":"get-customers-test","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR data IN customers\nRETURN data"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-customers-test2","fabric":"dino.lozina_macrometa.com._system","name":"get-customers-test2","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR data IN customers\nRETURN data"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-customers-test3","fabric":"dino.lozina_macrometa.com._system","name":"get-customers-test3","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR data IN customers\nRETURN data"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.getNbaPlayers","fabric":"dino.lozina_macrometa.com._system","name":"getNbaPlayers","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR i IN nba\nLIMIT 10\nRETURN i"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-all-categories","fabric":"dino.lozina_macrometa.com._system","name":"get-all-categories","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR category IN categories \n   RETURN {\"key\": category._key, \"category\": category.CategoryName}"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-all-suppliers","fabric":"dino.lozina_macrometa.com._system","name":"get-all-suppliers","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR supplier IN suppliers \n   RETURN {\"key\": supplier._key, \"companyName\": supplier.CompanyName}"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.add-product","fabric":"dino.lozina_macrometa.com._system","name":"add-product","parameter":{"CategoryID":"","Discontinued":"","ProductName":"","QuantityPerUnit":"","ReorderLevel":"","SupplierID":"","UnitPrice":"","UnitsInStock":"","UnitsOnOrder":""},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"INSERT {\n        CategoryID: @CategoryID,\n        Discontinued: @Discontinued,\n        ProductName: @ProductName,\n        QuantityPerUnit: @QuantityPerUnit,\n        ReorderLevel: @ReorderLevel,\n        SupplierID: @SupplierID,\n        UnitPrice: @UnitPrice,\n        UnitsInStock: @UnitsInStock,\n        UnitsOnOrder: @UnitsOnOrder\n}\nINTO products"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.delete-product","fabric":"dino.lozina_macrometa.com._system","name":"delete-product","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"REMOVE @_key \nIN products"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.update-product","fabric":"dino.lozina_macrometa.com._system","name":"update-product","parameter":{"CategoryID":"","Discontinued":"","ProductName":"","QuantityPerUnit":"","ReorderLevel":"","SupplierID":"","UnitPrice":"","UnitsInStock":"","UnitsOnOrder":""},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"UPDATE @_key WITH {\n        CategoryID: @CategoryID,\n        Discontinued: @Discontinued,\n        ProductName: @ProductName,\n        QuantityPerUnit: @QuantityPerUnit,\n        ReorderLevel: @ReorderLevel,\n        SupplierID: @SupplierID,\n        UnitPrice: @UnitPrice,\n        UnitsInStock: @UnitsInStock,\n        UnitsOnOrder: @UnitsOnOrder\n}\nINTO products"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.get-product","fabric":"dino.lozina_macrometa.com._system","name":"get-product","parameter":{},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR product IN products\n    FILTER product._key == @_key\nRETURN product"},{"_key":"dino.lozina_macrometa.com.root.dino.lozina_macrometa.com._system.catalog_search","fabric":"dino.lozina_macrometa.com._system","name":"catalog_search","parameter":{"keyword":""},"tenant":"dino.lozina_macrometa.com","type":"c8ql","userid":"dino.lozina_macrometa.com.root","value":"FOR product IN catalog_search_view\n    SEARCH ANALYZER(\n        STARTS_WITH(product.name, @keyword),\n        \"text_en\"\n    )\n    SORT product.name ASC\n    RETURN KEEP(product,\n        \"_key\",\n        \"name\",\n    )"}]